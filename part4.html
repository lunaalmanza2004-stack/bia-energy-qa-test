<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parte 4 ¬∑ AI & Automatizaci√≥n | Bia Energy</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bia-cyan: #04cebd;
            --bia-dark: #0f172a;
            --bia-card: #1e293b;
            --code-bg: #1e1e1e;
        }

        body {
            background-color: #f8fafc;
            font-family: 'Inter', sans-serif;
        }

        .ai-container { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        /* HEADER */
        header { text-align: center; margin-bottom: 50px; animation: fadeIn 1s ease-out; }
        header h1 { font-size: 2.5rem; color: var(--bia-dark); margin: 0; }

        /* SECCIONES */
        .concept-section, .validation-section, .analysis-section {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            margin-bottom: 40px;
            animation: slideUp 0.8s ease-out;
            border-left: 5px solid var(--bia-cyan);
        }

        .section-title { font-size: 1.2rem; color: var(--bia-dark); margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .section-title span { background: var(--bia-cyan); color: white; padding: 4px 10px; border-radius: 8px; font-size: 0.9rem; font-weight: bold; }
        .concept-text { color: #475569; line-height: 1.7; font-size: 1rem; }

        /* --- PASO A PASO --- */
        .steps-container { display: flex; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; }
        .step-badge { 
            background: #f1f5f9; padding: 8px 16px; border-radius: 20px; font-size: 0.9rem; color: #475569; border: 1px solid #e2e8f0;
            display: flex; align-items: center; gap: 8px;
        }
        .step-badge strong { color: var(--bia-dark); }

        /* --- COMPARATIVA DE PROMPTS --- */
        .prompts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        
        .prompt-card {
            background: #f8fafc; border: 1px solid #e2e8f0; padding: 20px; border-radius: 12px;
            display: flex; flex-direction: column; height: 100%; transition: 0.3s;
        }
        .prompt-card.winner { 
            border: 2px solid var(--bia-cyan); background: #f0fdfa; position: relative; 
            box-shadow: 0 10px 25px rgba(4, 206, 189, 0.1);
        }
        .prompt-card.winner::after {
            content: '‚úÖ OPCI√ìN VIABLE'; position: absolute; top: -12px; right: 20px;
            background: var(--bia-cyan); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold;
        }

        .pc-header { font-weight: bold; color: var(--bia-dark); margin-bottom: 10px; display: flex; justify-content: space-between; }
        .pc-content { 
            background: #fff; padding: 15px; border-radius: 8px; border: 1px dashed #cbd5e1; 
            font-family: 'Fira Code', monospace; font-size: 0.8rem; color: #475569; margin-bottom: 15px; flex-grow: 1; 
        }
        .pc-footer { font-size: 0.85rem; color: #64748b; line-height: 1.4; border-top: 1px solid #e2e8f0; padding-top: 10px; }

        /* --- SIMULADOR IA --- */
        .simulation-wrapper {
            display: grid;
            grid-template-columns: 1fr 1.3fr;
            gap: 20px;
            margin-bottom: 30px;
            animation: slideUp 1s ease-out;
        }

        .prompt-box { background: white; padding: 25px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); display: flex; flex-direction: column; }
        .user-msg {
            background: #eff6ff; color: #1e3a8a; padding: 20px; border-radius: 12px 12px 12px 0;
            font-size: 0.9rem; line-height: 1.6; margin-top: 10px; border: 1px solid #dbeafe;
            white-space: pre-wrap; font-family: 'Inter', sans-serif;
        }
        .user-label { font-size: 0.75rem; color: #94a3b8; font-weight: bold; text-transform: uppercase; }

        .vscode-window {
            background: var(--code-bg); border-radius: 12px; overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3); border: 1px solid #333;
            display: flex; flex-direction: column; height: 450px;
        }
        .vscode-header { background: #2d2d2d; padding: 10px 15px; display: flex; gap: 8px; border-bottom: 1px solid #333; }
        .dot { width: 12px; height: 12px; border-radius: 50%; }
        .red { background: #ff5f56; } .yellow { background: #ffbd2e; } .green { background: #27c93f; }
        .filename { margin-left: 15px; color: #aaa; font-family: 'Fira Code', monospace; font-size: 0.8rem; }
        .vscode-content { padding: 20px; color: #d4d4d4; font-family: 'Fira Code', monospace; font-size: 0.85rem; overflow-y: auto; line-height: 1.6; }

        /* VALIDACI√ìN CARDS */
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
        .val-card { background: white; padding: 25px; border-radius: 16px; border: 1px solid #e2e8f0; transition: transform 0.3s; position: relative; overflow: hidden; }
        .val-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.08); border-color: var(--bia-cyan); }
        .icon-box { font-size: 2rem; margin-bottom: 15px; }
        .val-card h3 { font-size: 1.1rem; color: var(--bia-dark); margin-bottom: 10px; }
        .val-card p { font-size: 0.95rem; color: #64748b; line-height: 1.5; }

        /* Colores C√≥digo */
        .kw { color: #569cd6; } .func { color: #dcdcaa; } .str { color: #ce9178; } .com { color: #6a9955; } 

        /* ANIMACIONES */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .cursor::after { content: '|'; animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        @media (max-width: 800px) { .simulation-wrapper, .prompts-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div class="ai-container">
        
        <header>
            <h1>Parte 4: AI y Automatizaci√≥n</h1>
        </header>

        <section class="concept-section">
            <h2 class="section-title"><span>1. Explica:</span> ¬øQu√© entiendes por automatizaci√≥n de pruebas?</h2>
            <p class="concept-text">
                La automatizaci√≥n de pruebas es una estrategia t√©cnica que utiliza herramientas de software para <strong>ejecutar casos de prueba de manera repetitiva, r√°pida y confiable</strong>. <br><br>
                Su prop√≥sito es liberar al equipo QA de la carga de pruebas regresivas manuales, permitiendo enfocarnos en pruebas exploratorias donde el criterio humano aporta mayor valor. Es el pilar fundamental para habilitar pr√°cticas de CI/CD.
            </p>
        </section>

        <section class="analysis-section">
            <h2 class="section-title"><span>2. Imagina:</span> ¬øQu√© prompt usar√≠as para generar un test?</h2>
            
            <p class="concept-text">
                Para generar un c√≥digo √∫til y funcional, no basta con pedir "un test". Mi proceso mental para estructurar la petici√≥n a la IA sigue estos pasos:
            </p>

            <div class="steps-container">
                <div class="step-badge"><strong>1.</strong> Definir Contexto (QA + Python)</div>
                <div class="step-badge"><strong>2.</strong> Elegir Herramientas (Playwright)</div>
                <div class="step-badge"><strong>3.</strong> Detallar el Flujo (Pasos exactos)</div>
            </div>

            <div class="prompts-grid">
                <div class="prompt-card">
                    <div class="pc-header">Opcion 1: Prompt B√°sico</div>
                    <div class="pc-content">
                        "Cr√©ame un script de python para automatizar el registro de usuario en una p√°gina web."
                    </div>
                    <div class="pc-footer">
                        ‚ùå <strong>Por qu√© NO:</strong> Es demasiado ambiguo. La IA podr√≠a usar librer√≠as viejas, no manejar esperas y crear c√≥digo fr√°gil que se rompe f√°cil.
                    </div>
                </div>

                <div class="prompt-card winner">
                    <div class="pc-header">Opcion 2: Prompt Estructurado</div>
                    <div class="pc-content">
                        "Contexto: Soy QA con Python.
                        Herramienta: Playwright + Pytest.
                        Tarea: Automatizar registro en Bia Energy.
                        Pasos: Ir a URL > Llenar datos > Validar redirecci√≥n al Dashboard."
                    </div>
                    <div class="pc-footer">
                        ‚úÖ <strong>Por qu√© SI:</strong> Es espec√≠fico. Define la tecnolog√≠a moderna (Playwright), el escenario exacto y el criterio de aceptaci√≥n.
                    </div>
                </div>
            </div>
        </section>
        
        <div class="simulation-wrapper">
            <div class="prompt-box">
                <div class="user-label">SIMULACI√ìN DEL PROMPT GANADOR:</div>
                <div class="user-msg" id="promptText">
                    </div>
            </div>

            <div class="vscode-window">
                <div class="vscode-header">
                    <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
                    <div class="filename">test_register_bia.py</div>
                </div>
                <div class="vscode-content" id="codeContent">
                    </div>
            </div>
        </div>

        <div class="validation-section">
            <h2 class="section-title"><span>3. Describe:</span> ¬øC√≥mo validar√≠as que el c√≥digo generado por AI es correcto?</h2>
            
            <div class="cards-grid">
                
                <div class="val-card" style="border-top: 4px solid #8b5cf6;">
                    <div class="icon-box">üß†</div>
                    <h3>1. An√°lisis de L√≥gica</h3>
                    <p>
                        Leo el c√≥digo para verificar la coherencia. Reviso que no existan esperas fijas innecesarias (time.sleep) y que el flujo de pasos coincida con el caso de prueba manual.
                    </p>
                </div>

                <div class="val-card" style="border-top: 4px solid #04cebd;">
                    <div class="icon-box">üíª</div>
                    <h3>2. Ejecuci√≥n Local (Headed)</h3>
                    <p>
                        Copio el script a mi entorno local (VS Code) y lo ejecuto viendo el navegador. Esto confirma visualmente que la IA interact√∫a con los campos correctos.
                    </p>
                </div>

                <div class="val-card" style="border-top: 4px solid #ff5f56;">
                    <div class="icon-box">üî®</div>
                    <h3>3. Validaci√≥n de Selectores</h3>
                    <p>
                        Inspecciono el c√≥digo fuente de la p√°gina real para confirmar que los IDs o atributos (ej: <code>name="email"</code>) que sugiri√≥ la IA realmente existen y son √∫nicos.
                    </p>
                </div>

            </div>
        </div>

    </div>

    <script>
        // EL PROMPT FINAL (Limpio y directo)
        const promptFullText = `Contexto: Soy Analista QA con conocimientos de Python.

Requiero un script de automatizaci√≥n usando Playwright.

Escenario de Registro Bia Energy:
1. Navegar a /register.
2. Llenar inputs: Nombre, Email y Password.
3. Click en el bot√≥n de registro.
4. Validar aserci√≥n: Redirecci√≥n a /dashboard.

Por favor genera c√≥digo limpio y explicado.`;

        // EL C√ìDIGO
        const pythonCodeHTML = `
<span class="kw">from</span> playwright.sync_api <span class="kw">import</span> sync_playwright, expect

<span class="kw">def</span> <span class="func">test_flujo_registro</span>():
    <span class="kw">with</span> sync_playwright() <span class="kw">as</span> p:
        <span class="com"># Lanzamos navegador visible (Headed)</span>
        browser = p.chromium.launch(headless=False)
        page = browser.new_page()

        <span class="com"># 1. Navegaci√≥n</span>
        page.goto(<span class="str">"https://app.bia-energy.com/register"</span>)

        <span class="com"># 2. Interacci√≥n con campos</span>
        page.fill(<span class="str">'input[name="full_name"]'</span>, <span class="str">"Analista QA"</span>)
        page.fill(<span class="str">'input[name="email"]'</span>, <span class="str">"qa.demo@bia.com"</span>)
        page.fill(<span class="str">'input[name="password"]'</span>, <span class="str">"Seguridad123!"</span>)

        <span class="com"># 3. Acci√≥n de click</span>
        page.click(<span class="str">"button[type='submit']"</span>)

        <span class="com"># 4. Validaci√≥n de √©xito</span>
        expect(page).to_have_url(<span class="str">"/dashboard"</span>)
        
        <span class="kw">print</span>(<span class="str">"‚úÖ Flujo de registro exitoso"</span>)
        browser.close()

test_flujo_registro()
`;

        function typeWriter(text, elementId, speed, isHTML = false) {
            let i = 0;
            const element = document.getElementById(elementId);
            element.innerHTML = "";
            element.classList.add('cursor');

            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else {
                    element.classList.remove('cursor');
                    if (elementId === 'promptText') {
                        setTimeout(() => {
                            document.getElementById('codeContent').innerHTML = pythonCodeHTML;
                            document.getElementById('codeContent').style.animation = "fadeIn 1s";
                        }, 500);
                    }
                }
            }
            if(!isHTML) type();
        }

        window.onload = () => {
            setTimeout(() => {
                typeWriter(promptFullText, "promptText", 25);
            }, 500);
        };
    </script>

</body>
</html>